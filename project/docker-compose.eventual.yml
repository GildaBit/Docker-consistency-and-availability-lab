# Author: Gilad Bitton
# RedID: 130621085

# Docker Compose configuration for EVENTUAL consistency mode (Gossip)
# Usage: docker compose -f docker-compose.eventual.yml up --build

services:
  node1:
    build: .
    environment:
      - NODE_ID=node1
      - MODE=EVENTUAL
      - PEERS=http://node2:5000,http://node3:5000
    ports:
      - "5001:5000"
  
  node2:
    build: .
    environment:
      - NODE_ID=node2
      - MODE=EVENTUAL
      - PEERS=http://node1:5000,http://node3:5000
    ports:
      - "5002:5000"

  node3:
    build: .
    environment:
      - NODE_ID=node3
      - MODE=EVENTUAL
      - PEERS=http://node1:5000,http://node2:5000
    ports:
      - "5003:5000"